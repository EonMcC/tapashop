{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[typeof Symbol === \"function\" ? Symbol.iterator : \"@@iterator\"] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar react_native_1 = require(\"react-native-web/dist/index\");\n\nvar react_native_gesture_handler_1 = require(\"react-native-gesture-handler\");\n\nvar react_native_reanimated_1 = __importDefault(require(\"react-native-reanimated\"));\n\nvar procs_1 = require(\"./procs\");\n\nvar AnimatedFlatList = react_native_reanimated_1.default.createAnimatedComponent(react_native_gesture_handler_1.FlatList);\nvar Value = react_native_reanimated_1.default.Value,\n    abs = react_native_reanimated_1.default.abs,\n    set = react_native_reanimated_1.default.set,\n    cond = react_native_reanimated_1.default.cond,\n    add = react_native_reanimated_1.default.add,\n    sub = react_native_reanimated_1.default.sub,\n    event = react_native_reanimated_1.default.event,\n    block = react_native_reanimated_1.default.block,\n    eq = react_native_reanimated_1.default.eq,\n    neq = react_native_reanimated_1.default.neq,\n    and = react_native_reanimated_1.default.and,\n    or = react_native_reanimated_1.default.or,\n    call = react_native_reanimated_1.default.call,\n    onChange = react_native_reanimated_1.default.onChange,\n    divide = react_native_reanimated_1.default.divide,\n    greaterThan = react_native_reanimated_1.default.greaterThan,\n    greaterOrEq = react_native_reanimated_1.default.greaterOrEq,\n    lessOrEq = react_native_reanimated_1.default.lessOrEq,\n    not = react_native_reanimated_1.default.not,\n    Clock = react_native_reanimated_1.default.Clock,\n    clockRunning = react_native_reanimated_1.default.clockRunning,\n    startClock = react_native_reanimated_1.default.startClock,\n    stopClock = react_native_reanimated_1.default.stopClock,\n    spring = react_native_reanimated_1.default.spring,\n    defined = react_native_reanimated_1.default.defined,\n    max = react_native_reanimated_1.default.max,\n    debug = react_native_reanimated_1.default.debug;\nvar scrollPositionTolerance = 2;\nvar defaultAnimationConfig = {\n  damping: 20,\n  mass: 0.2,\n  stiffness: 100,\n  overshootClamping: false,\n  restSpeedThreshold: 0.2,\n  restDisplacementThreshold: 0.2\n};\nvar defaultProps = {\n  autoscrollThreshold: 30,\n  autoscrollSpeed: 100,\n  animationConfig: defaultAnimationConfig,\n  scrollEnabled: true,\n  activationDistance: 0\n};\n\nvar debugGestureState = function debugGestureState(state, context) {\n  var stateStr = Object.entries(react_native_gesture_handler_1.State).find(function (_a) {\n    var k = _a[0],\n        v = _a[1];\n    return v === state;\n  });\n  console.log(\"## \" + context + \" debug gesture state: \" + state + \" - \" + stateStr);\n};\n\nfunction onNextFrame(callback) {\n  setTimeout(function () {\n    requestAnimationFrame(callback);\n  });\n}\n\nvar DraggableFlatList = function (_super) {\n  __extends(DraggableFlatList, _super);\n\n  function DraggableFlatList(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.state = {\n      activeKey: null,\n      hoverComponent: null\n    };\n    _this.containerRef = react_1.default.createRef();\n    _this.flatlistRef = react_1.default.createRef();\n    _this.panGestureHandlerRef = react_1.default.createRef();\n    _this.containerSize = new Value(0);\n    _this.activationDistance = new Value(0);\n    _this.touchAbsolute = new Value(0);\n    _this.touchCellOffset = new Value(0);\n    _this.panGestureState = new Value(react_native_gesture_handler_1.State.UNDETERMINED);\n    _this.isPressedIn = {\n      native: new Value(0),\n      js: false\n    };\n    _this.hasMoved = new Value(0);\n    _this.disabled = new Value(0);\n    _this.activeIndex = new Value(-1);\n    _this.isHovering = greaterThan(_this.activeIndex, -1);\n    _this.spacerIndex = new Value(-1);\n    _this.activeCellSize = new Value(0);\n    _this.scrollOffset = new Value(0);\n    _this.scrollViewSize = new Value(0);\n    _this.isScrolledUp = lessOrEq(sub(_this.scrollOffset, scrollPositionTolerance), 0);\n    _this.isScrolledDown = greaterOrEq(add(_this.scrollOffset, _this.containerSize, scrollPositionTolerance), _this.scrollViewSize);\n    _this.hoverAnim = sub(_this.touchAbsolute, _this.touchCellOffset);\n    _this.hoverMid = add(_this.hoverAnim, divide(_this.activeCellSize, 2));\n    _this.hoverOffset = add(_this.hoverAnim, _this.scrollOffset);\n    _this.hoverTo = new Value(0);\n    _this.hoverClock = new Clock();\n    _this.hoverAnimState = {\n      finished: new Value(0),\n      velocity: new Value(0),\n      position: new Value(0),\n      time: new Value(0)\n    };\n    _this.hoverAnimConfig = __assign(__assign(__assign({}, defaultAnimationConfig), _this.props.animationConfig), {\n      toValue: _this.hoverTo\n    });\n    _this.distToTopEdge = max(0, _this.hoverAnim);\n    _this.distToBottomEdge = max(0, sub(_this.containerSize, add(_this.hoverAnim, _this.activeCellSize)));\n    _this.cellAnim = new Map();\n    _this.cellData = new Map();\n    _this.cellRefs = new Map();\n    _this.moveEndParams = [_this.activeIndex, _this.spacerIndex];\n    _this.resetHoverSpring = [set(_this.hoverAnimState.time, 0), set(_this.hoverAnimState.position, _this.hoverAnimConfig.toValue), set(_this.touchAbsolute, _this.hoverAnimConfig.toValue), set(_this.touchCellOffset, 0), set(_this.hoverAnimState.finished, 0), set(_this.hoverAnimState.velocity, 0), set(_this.hasMoved, 0)];\n    _this.keyToIndex = new Map();\n    _this.isAutoscrolling = {\n      native: new Value(0),\n      js: false\n    };\n    _this.queue = [];\n\n    _this.dataHasChanged = function (a, b) {\n      var lengthHasChanged = a.length !== b.length;\n      if (lengthHasChanged) return true;\n      var aKeys = a.map(function (d, i) {\n        return _this.keyExtractor(d, i);\n      });\n      var bKeys = b.map(function (d, i) {\n        return _this.keyExtractor(d, i);\n      });\n      var sameKeys = aKeys.every(function (k) {\n        return bKeys.includes(k);\n      });\n      return !sameKeys;\n    };\n\n    _this.componentDidUpdate = function (prevProps, prevState) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var layoutInvalidationKeyHasChanged, index, cellData;\n\n        var _this = this;\n\n        return __generator(this, function (_a) {\n          if (prevProps.data !== this.props.data) {\n            this.props.data.forEach(function (item, index) {\n              var key = _this.keyExtractor(item, index);\n\n              _this.keyToIndex.set(key, index);\n            });\n            this.updateCellData(this.props.data);\n            onNextFrame(this.flushQueue);\n            layoutInvalidationKeyHasChanged = prevProps.layoutInvalidationKey !== this.props.layoutInvalidationKey;\n\n            if (layoutInvalidationKeyHasChanged || this.dataHasChanged(prevProps.data, this.props.data)) {\n              this.queue.push(function () {\n                return _this.measureAll(_this.props.data);\n              });\n            }\n          }\n\n          if (!prevState.activeKey && this.state.activeKey) {\n            index = this.keyToIndex.get(this.state.activeKey);\n\n            if (index !== undefined) {\n              this.spacerIndex.setValue(index);\n              this.activeIndex.setValue(index);\n              this.touchCellOffset.setValue(0);\n              this.isPressedIn.native.setValue(1);\n            }\n\n            cellData = this.cellData.get(this.state.activeKey);\n\n            if (cellData) {\n              this.touchAbsolute.setValue(sub(cellData.offset, this.scrollOffset));\n              this.activeCellSize.setValue(cellData.measurements.size);\n            }\n          }\n\n          return [2];\n        });\n      });\n    };\n\n    _this.flushQueue = function () {\n      return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n          this.queue.forEach(function (fn) {\n            return fn();\n          });\n          this.queue = [];\n          return [2];\n        });\n      });\n    };\n\n    _this.resetHoverState = function () {\n      _this.activeIndex.setValue(-1);\n\n      _this.spacerIndex.setValue(-1);\n\n      _this.disabled.setValue(0);\n\n      if (_this.state.hoverComponent !== null || _this.state.activeKey !== null) {\n        _this.setState({\n          hoverComponent: null,\n          activeKey: null\n        });\n      }\n    };\n\n    _this.drag = function (hoverComponent, activeKey) {\n      if (_this.state.hoverComponent) {\n        console.log(\"## Can't set multiple active items\");\n      } else {\n        _this.isPressedIn.js = true;\n\n        _this.setState({\n          activeKey: activeKey,\n          hoverComponent: hoverComponent\n        }, function () {\n          var index = _this.keyToIndex.get(activeKey);\n\n          var onDragBegin = _this.props.onDragBegin;\n\n          if (index !== undefined && onDragBegin) {\n            onDragBegin(index);\n          }\n        });\n      }\n    };\n\n    _this.onRelease = function (_a) {\n      var index = _a[0];\n      var onRelease = _this.props.onRelease;\n      _this.isPressedIn.js = false;\n      onRelease && onRelease(index);\n    };\n\n    _this.onDragEnd = function (_a) {\n      var from = _a[0],\n          to = _a[1];\n      var onDragEnd = _this.props.onDragEnd;\n\n      if (onDragEnd) {\n        var data = _this.props.data;\n\n        var newData = __spreadArrays(data);\n\n        if (from !== to) {\n          newData.splice(from, 1);\n          newData.splice(to, 0, data[from]);\n        }\n\n        onDragEnd({\n          from: from,\n          to: to,\n          data: newData\n        });\n      }\n\n      var lo = Math.min(from, to) - 1;\n      var hi = Math.max(from, to) + 1;\n\n      var _loop_1 = function _loop_1(i) {\n        _this.queue.push(function () {\n          var item = _this.props.data[i];\n          if (!item) return;\n\n          var key = _this.keyExtractor(item, i);\n\n          return _this.measureCell(key);\n        });\n      };\n\n      for (var i = lo; i < hi; i++) {\n        _loop_1(i);\n      }\n\n      _this.resetHoverState();\n    };\n\n    _this.updateCellData = function (data) {\n      if (data === void 0) {\n        data = [];\n      }\n\n      return data.forEach(function (item, index) {\n        var key = _this.keyExtractor(item, index);\n\n        var cell = _this.cellData.get(key);\n\n        if (cell) cell.currentIndex.setValue(index);\n      });\n    };\n\n    _this.setCellData = function (key, index) {\n      var clock = new Clock();\n      var currentIndex = new Value(index);\n\n      var config = __assign(__assign({}, _this.hoverAnimConfig), {\n        toValue: new Value(0)\n      });\n\n      var state = {\n        position: new Value(0),\n        velocity: new Value(0),\n        time: new Value(0),\n        finished: new Value(0)\n      };\n\n      _this.cellAnim.set(key, {\n        clock: clock,\n        state: state,\n        config: config\n      });\n\n      var initialized = new Value(0);\n      var size = new Value(0);\n      var offset = new Value(0);\n      var isAfterActive = new Value(0);\n      var translate = new Value(0);\n      var runSrping = cond(clockRunning(clock), procs_1.springFill(clock, state, config));\n      var onHasMoved = startClock(clock);\n      var onChangeSpacerIndex = cond(clockRunning(clock), stopClock(clock));\n      var onFinished = stopClock(clock);\n      var prevTrans = new Value(0);\n      var prevSpacerIndex = new Value(-1);\n      var anim = procs_1.setupCell(currentIndex, initialized, size, offset, isAfterActive, translate, prevTrans, prevSpacerIndex, _this.activeIndex, _this.activeCellSize, _this.hoverOffset, _this.scrollOffset, _this.isHovering, _this.hoverTo, _this.hasMoved, _this.spacerIndex, config.toValue, state.position, state.time, state.finished, runSrping, onHasMoved, onChangeSpacerIndex, onFinished, _this.isPressedIn.native);\n      var tapState = new Value(react_native_gesture_handler_1.State.UNDETERMINED);\n      var transform = _this.props.horizontal ? [{\n        translateX: anim\n      }] : [{\n        translateY: anim\n      }];\n      var style = {\n        transform: transform\n      };\n      var cellData = {\n        initialized: initialized,\n        currentIndex: currentIndex,\n        size: size,\n        offset: offset,\n        style: style,\n        onLayout: function onLayout() {\n          if (_this.state.activeKey !== key) _this.measureCell(key);\n        },\n        onUnmount: function onUnmount() {\n          return initialized.setValue(0);\n        },\n        measurements: {\n          size: 0,\n          offset: 0\n        }\n      };\n\n      _this.cellData.set(key, cellData);\n    };\n\n    _this.measureAll = function (data) {\n      data.forEach(function (d, i) {\n        var key = _this.keyExtractor(d, i);\n\n        _this.measureCell(key);\n      });\n    };\n\n    _this.measureCell = function (key) {\n      return new Promise(function (resolve, reject) {\n        var horizontal = _this.props.horizontal;\n\n        var onSuccess = function onSuccess(x, y, w, h) {\n          var activeKey = _this.state.activeKey;\n          var isHovering = activeKey !== null;\n\n          var cellData = _this.cellData.get(key);\n\n          var thisKeyIndex = _this.keyToIndex.get(key);\n\n          var activeKeyIndex = activeKey ? _this.keyToIndex.get(activeKey) : undefined;\n          var baseOffset = horizontal ? x : y;\n          var extraOffset = 0;\n\n          if (thisKeyIndex !== undefined && activeKeyIndex !== undefined && activeKey) {\n            var isAfterActive = thisKeyIndex > activeKeyIndex;\n\n            var activeCellData = _this.cellData.get(activeKey);\n\n            if (isHovering && isAfterActive && activeCellData) {\n              extraOffset = activeCellData.measurements.size;\n            }\n          }\n\n          var size = horizontal ? w : h;\n          var offset = baseOffset + extraOffset;\n\n          if (cellData) {\n            cellData.size.setValue(size);\n            cellData.offset.setValue(offset);\n            cellData.measurements.size = size;\n            cellData.measurements.offset = offset;\n          }\n\n          if (isHovering) _this.queue.push(function () {\n            return _this.measureCell(key);\n          });\n          resolve();\n        };\n\n        var onFail = function onFail() {\n          console.log(\"## measureLayout fail!\", key);\n        };\n\n        var ref = _this.cellRefs.get(key);\n\n        var viewNode = ref && ref.current && ref.current.getNode();\n\n        var flatListNode = _this.flatlistRef.current && _this.flatlistRef.current.getNode();\n\n        if (viewNode && flatListNode) {\n          var nodeHandle = react_native_1.findNodeHandle(flatListNode);\n          if (nodeHandle) viewNode.measureLayout(nodeHandle, onSuccess, onFail);\n        } else {\n          var reason = !ref ? \"no ref\" : !flatListNode ? \"no flatlist node\" : \"invalid ref\";\n          console.log(\"## can't measure \" + key + \" reason: \" + reason);\n\n          _this.queue.push(function () {\n            return _this.measureCell(key);\n          });\n\n          return resolve();\n        }\n      });\n    };\n\n    _this.keyExtractor = function (item, index) {\n      if (_this.props.keyExtractor) return _this.props.keyExtractor(item, index);else throw new Error(\"You must provide a keyExtractor to DraggableFlatList\");\n    };\n\n    _this.onContainerLayout = function () {\n      var horizontal = _this.props.horizontal;\n      var containerRef = _this.containerRef.current;\n\n      if (containerRef) {\n        containerRef.getNode().measure(function (x, y, w, h) {\n          _this.containerSize.setValue(horizontal ? w : h);\n        });\n      }\n    };\n\n    _this.onListContentSizeChange = function (w, h) {\n      _this.scrollViewSize.setValue(_this.props.horizontal ? w : h);\n\n      if (_this.props.onContentSizeChange) _this.props.onContentSizeChange(w, h);\n    };\n\n    _this.targetScrollOffset = new Value(0);\n\n    _this.onAutoscrollComplete = function (params) {\n      _this.isAutoscrolling.js = false;\n      if (_this.resolveAutoscroll) _this.resolveAutoscroll(params);\n    };\n\n    _this.scrollToAsync = function (offset) {\n      return new Promise(function (resolve, reject) {\n        _this.resolveAutoscroll = resolve;\n\n        _this.targetScrollOffset.setValue(offset);\n\n        _this.isAutoscrolling.native.setValue(1);\n\n        _this.isAutoscrolling.js = true;\n        var flatlistRef = _this.flatlistRef.current;\n        if (flatlistRef) flatlistRef.getNode().scrollToOffset({\n          offset: offset\n        });\n      });\n    };\n\n    _this.getScrollTargetOffset = function (distFromTop, distFromBottom, scrollOffset, isScrolledUp, isScrolledDown) {\n      if (_this.isAutoscrolling.js) return -1;\n      var _a = _this.props,\n          autoscrollThreshold = _a.autoscrollThreshold,\n          autoscrollSpeed = _a.autoscrollSpeed;\n      var scrollUp = distFromTop < autoscrollThreshold;\n      var scrollDown = distFromBottom < autoscrollThreshold;\n      if (!(scrollUp || scrollDown) || scrollUp && isScrolledUp || scrollDown && isScrolledDown) return -1;\n      var distFromEdge = scrollUp ? distFromTop : distFromBottom;\n      var speedPct = 1 - distFromEdge / autoscrollThreshold;\n      var speed = react_native_1.Platform.OS === \"ios\" ? autoscrollSpeed : autoscrollSpeed / 10;\n      var offset = speedPct * speed;\n      var targetOffset = scrollUp ? Math.max(0, scrollOffset - offset) : scrollOffset + offset;\n      return targetOffset;\n    };\n\n    _this.autoscroll = function (_a) {\n      var distFromTop = _a[0],\n          distFromBottom = _a[1],\n          scrollOffset = _a[2],\n          isScrolledUp = _a[3],\n          isScrolledDown = _a[4];\n      return __awaiter(_this, void 0, void 0, function () {\n        var targetOffset, nextScrollParams;\n        return __generator(this, function (_b) {\n          switch (_b.label) {\n            case 0:\n              targetOffset = this.getScrollTargetOffset(distFromTop, distFromBottom, scrollOffset, !!isScrolledUp, !!isScrolledDown);\n              if (!(targetOffset >= 0 && this.isPressedIn.js)) return [3, 2];\n              return [4, this.scrollToAsync(targetOffset)];\n\n            case 1:\n              nextScrollParams = _b.sent();\n              this.autoscroll(nextScrollParams);\n              _b.label = 2;\n\n            case 2:\n              return [2];\n          }\n        });\n      });\n    };\n\n    _this.isAtTopEdge = lessOrEq(_this.distToTopEdge, _this.props.autoscrollThreshold);\n    _this.isAtBottomEdge = lessOrEq(_this.distToBottomEdge, _this.props.autoscrollThreshold);\n    _this.isAtEdge = or(_this.isAtBottomEdge, _this.isAtTopEdge);\n    _this.autoscrollParams = [_this.distToTopEdge, _this.distToBottomEdge, _this.scrollOffset, _this.isScrolledUp, _this.isScrolledDown];\n    _this.checkAutoscroll = cond(and(_this.isAtEdge, not(and(_this.isAtTopEdge, _this.isScrolledUp)), not(and(_this.isAtBottomEdge, _this.isScrolledDown)), eq(_this.panGestureState, react_native_gesture_handler_1.State.ACTIVE), not(_this.isAutoscrolling.native)), call(_this.autoscrollParams, _this.autoscroll));\n    _this.onScroll = event([{\n      nativeEvent: function nativeEvent(_a) {\n        var contentOffset = _a.contentOffset;\n        return block([set(_this.scrollOffset, _this.props.horizontal ? contentOffset.x : contentOffset.y), cond(and(_this.isAutoscrolling.native, or(lessOrEq(abs(sub(_this.targetScrollOffset, _this.scrollOffset)), scrollPositionTolerance), _this.isScrolledUp, _this.isScrolledDown)), [set(_this.isAutoscrolling.native, 0), _this.checkAutoscroll, call(_this.autoscrollParams, _this.onAutoscrollComplete)])]);\n      }\n    }]);\n    _this.onGestureRelease = [cond(_this.isHovering, [set(_this.disabled, 1), cond(defined(_this.hoverClock), [cond(clockRunning(_this.hoverClock), stopClock(_this.hoverClock)), set(_this.hoverAnimState.position, _this.hoverAnim), startClock(_this.hoverClock)]), call([_this.activeIndex], _this.onRelease)], call([_this.activeIndex], _this.resetHoverState))];\n    _this.onPanStateChange = event([{\n      nativeEvent: function nativeEvent(_a) {\n        var state = _a.state,\n            x = _a.x,\n            y = _a.y;\n        return cond(and(neq(state, _this.panGestureState), not(_this.disabled)), [set(_this.panGestureState, state), cond(eq(_this.panGestureState, react_native_gesture_handler_1.State.ACTIVE), set(_this.activationDistance, sub(_this.touchAbsolute, _this.props.horizontal ? x : y))), cond(or(eq(state, react_native_gesture_handler_1.State.END), eq(state, react_native_gesture_handler_1.State.CANCELLED), eq(state, react_native_gesture_handler_1.State.FAILED)), _this.onGestureRelease)]);\n      }\n    }]);\n    _this.onPanGestureEvent = event([{\n      nativeEvent: function nativeEvent(_a) {\n        var x = _a.x,\n            y = _a.y;\n        return cond(and(_this.isHovering, eq(_this.panGestureState, react_native_gesture_handler_1.State.ACTIVE), not(_this.disabled)), [cond(not(_this.hasMoved), set(_this.hasMoved, 1)), set(_this.touchAbsolute, add(_this.props.horizontal ? x : y, _this.activationDistance))]);\n      }\n    }]);\n    _this.hoverComponentTranslate = cond(clockRunning(_this.hoverClock), _this.hoverAnimState.position, _this.hoverAnim);\n    _this.hoverComponentOpacity = and(_this.isHovering, neq(_this.panGestureState, react_native_gesture_handler_1.State.CANCELLED));\n\n    _this.renderHoverComponent = function () {\n      var _a;\n\n      var hoverComponent = _this.state.hoverComponent;\n      var horizontal = _this.props.horizontal;\n      return react_1.default.createElement(react_native_reanimated_1.default.View, {\n        style: [horizontal ? styles.hoverComponentHorizontal : styles.hoverComponentVertical, {\n          opacity: _this.hoverComponentOpacity,\n          transform: [(_a = {}, _a[\"translate\" + (horizontal ? \"X\" : \"Y\")] = _this.hoverComponentTranslate, _a)]\n        }]\n      }, hoverComponent);\n    };\n\n    _this.renderItem = function (_a) {\n      var item = _a.item,\n          index = _a.index;\n\n      var key = _this.keyExtractor(item, index);\n\n      if (index !== _this.keyToIndex.get(key)) _this.keyToIndex.set(key, index);\n      var renderItem = _this.props.renderItem;\n      if (!_this.cellData.get(key)) _this.setCellData(key, index);\n      var onUnmount = (_this.cellData.get(key) || {\n        onUnmount: function onUnmount() {\n          return console.log(\"## error, no cellData\");\n        }\n      }).onUnmount;\n      return react_1.default.createElement(RowItem, {\n        extraData: _this.props.extraData,\n        itemKey: key,\n        keyToIndex: _this.keyToIndex,\n        renderItem: renderItem,\n        item: item,\n        drag: _this.drag,\n        onUnmount: onUnmount\n      });\n    };\n\n    _this.CellRendererComponent = function (cellProps) {\n      var item = cellProps.item,\n          index = cellProps.index,\n          children = cellProps.children,\n          onLayout = cellProps.onLayout;\n      var horizontal = _this.props.horizontal;\n      var activeKey = _this.state.activeKey;\n\n      var key = _this.keyExtractor(item, index);\n\n      if (!_this.cellData.get(key)) _this.setCellData(key, index);\n\n      var cellData = _this.cellData.get(key);\n\n      if (!cellData) return null;\n      var style = cellData.style,\n          onCellLayout = cellData.onLayout;\n\n      var ref = _this.cellRefs.get(key);\n\n      if (!ref) {\n        ref = react_1.default.createRef();\n\n        _this.cellRefs.set(key, ref);\n      }\n\n      var isActiveCell = activeKey === key;\n      return react_1.default.createElement(react_native_reanimated_1.default.View, {\n        onLayout: onLayout,\n        style: style\n      }, react_1.default.createElement(react_native_reanimated_1.default.View, {\n        pointerEvents: activeKey ? \"none\" : \"auto\",\n        style: {\n          flexDirection: horizontal ? \"row\" : \"column\"\n        }\n      }, react_1.default.createElement(react_native_reanimated_1.default.View, {\n        ref: ref,\n        onLayout: onCellLayout,\n        style: isActiveCell ? {\n          opacity: 0\n        } : undefined\n      }, children)));\n    };\n\n    _this.onContainerTouchEnd = function () {\n      _this.isPressedIn.native.setValue(0);\n    };\n\n    var data = props.data,\n        onRef = props.onRef;\n    data.forEach(function (item, index) {\n      var key = _this.keyExtractor(item, index);\n\n      _this.keyToIndex.set(key, index);\n    });\n    onRef && onRef(_this.flatlistRef);\n    return _this;\n  }\n\n  DraggableFlatList.getDerivedStateFromProps = function (props) {\n    return {\n      extraData: props.extraData\n    };\n  };\n\n  DraggableFlatList.prototype.renderDebug = function () {\n    var _this = this;\n\n    return react_1.default.createElement(react_native_reanimated_1.default.Code, null, function () {\n      return block([onChange(_this.spacerIndex, debug(\"spacerIndex: \", _this.spacerIndex))]);\n    });\n  };\n\n  DraggableFlatList.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        scrollEnabled = _a.scrollEnabled,\n        debug = _a.debug,\n        horizontal = _a.horizontal,\n        activationDistance = _a.activationDistance,\n        onScrollOffsetChange = _a.onScrollOffsetChange;\n    var hoverComponent = this.state.hoverComponent;\n    var dynamicProps = {};\n\n    if (activationDistance) {\n      var activeOffset = [-activationDistance, activationDistance];\n      dynamicProps = horizontal ? {\n        activeOffsetX: activeOffset\n      } : {\n        activeOffsetY: activeOffset\n      };\n    }\n\n    return react_1.default.createElement(react_native_gesture_handler_1.PanGestureHandler, __assign({\n      ref: this.panGestureHandlerRef,\n      onGestureEvent: this.onPanGestureEvent,\n      onHandlerStateChange: this.onPanStateChange\n    }, dynamicProps), react_1.default.createElement(react_native_reanimated_1.default.View, {\n      style: styles.flex,\n      ref: this.containerRef,\n      onLayout: this.onContainerLayout,\n      onTouchEnd: this.onContainerTouchEnd\n    }, react_1.default.createElement(AnimatedFlatList, __assign({}, this.props, {\n      CellRendererComponent: this.CellRendererComponent,\n      ref: this.flatlistRef,\n      onContentSizeChange: this.onListContentSizeChange,\n      scrollEnabled: !hoverComponent && scrollEnabled,\n      renderItem: this.renderItem,\n      extraData: this.state,\n      keyExtractor: this.keyExtractor,\n      onScroll: this.onScroll,\n      scrollEventThrottle: 1\n    })), !!hoverComponent && this.renderHoverComponent(), react_1.default.createElement(react_native_reanimated_1.default.Code, null, function () {\n      return block([onChange(_this.isPressedIn.native, cond(not(_this.isPressedIn.native), _this.onGestureRelease)), onChange(_this.touchAbsolute, _this.checkAutoscroll), cond(clockRunning(_this.hoverClock), [spring(_this.hoverClock, _this.hoverAnimState, _this.hoverAnimConfig), cond(eq(_this.hoverAnimState.finished, 1), [stopClock(_this.hoverClock), call(_this.moveEndParams, _this.onDragEnd), _this.resetHoverSpring, set(_this.hasMoved, 0)])])]);\n    }), onScrollOffsetChange && react_1.default.createElement(react_native_reanimated_1.default.Code, null, function () {\n      return onChange(_this.scrollOffset, call([_this.scrollOffset], function (_a) {\n        var offset = _a[0];\n        return onScrollOffsetChange(offset);\n      }));\n    }), debug && this.renderDebug()));\n  };\n\n  DraggableFlatList.defaultProps = defaultProps;\n  return DraggableFlatList;\n}(react_1.default.Component);\n\nexports.default = DraggableFlatList;\n\nvar RowItem = function (_super) {\n  __extends(RowItem, _super);\n\n  function RowItem() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.drag = function () {\n      var _a = _this.props,\n          drag = _a.drag,\n          renderItem = _a.renderItem,\n          item = _a.item,\n          keyToIndex = _a.keyToIndex,\n          itemKey = _a.itemKey;\n      var hoverComponent = renderItem({\n        isActive: true,\n        item: item,\n        index: keyToIndex.get(itemKey),\n        drag: function drag() {\n          return console.log(\"## attempt to call drag() on hovering component\");\n        }\n      });\n      drag(hoverComponent, itemKey);\n    };\n\n    return _this;\n  }\n\n  RowItem.prototype.componentWillUnmount = function () {\n    this.props.onUnmount();\n  };\n\n  RowItem.prototype.render = function () {\n    var _a = this.props,\n        renderItem = _a.renderItem,\n        item = _a.item,\n        keyToIndex = _a.keyToIndex,\n        itemKey = _a.itemKey;\n    return renderItem({\n      isActive: false,\n      item: item,\n      index: keyToIndex.get(itemKey),\n      drag: this.drag\n    });\n  };\n\n  return RowItem;\n}(react_1.default.PureComponent);\n\nvar styles = react_native_1.StyleSheet.create({\n  flex: {\n    flex: 1\n  },\n  hoverComponentVertical: {\n    position: \"absolute\",\n    left: 0,\n    right: 0\n  },\n  hoverComponentHorizontal: {\n    position: \"absolute\",\n    bottom: 0,\n    top: 0\n  }\n});","map":{"version":3,"sources":["/Users/user/coding/tapashop/node_modules/react-native-draggable-flatlist/lib/index.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","push","__spreadArrays","il","r","k","a","j","jl","__importDefault","mod","__esModule","defineProperty","exports","react_1","require","react_native_gesture_handler_1","react_native_reanimated_1","procs_1","AnimatedFlatList","default","createAnimatedComponent","FlatList","Value","abs","set","cond","add","sub","event","block","eq","neq","and","or","onChange","divide","greaterThan","greaterOrEq","lessOrEq","not","Clock","clockRunning","startClock","stopClock","spring","defined","max","debug","scrollPositionTolerance","defaultAnimationConfig","damping","mass","stiffness","overshootClamping","restSpeedThreshold","restDisplacementThreshold","defaultProps","autoscrollThreshold","autoscrollSpeed","animationConfig","scrollEnabled","activationDistance","debugGestureState","state","context","stateStr","entries","State","find","_a","console","log","onNextFrame","callback","setTimeout","requestAnimationFrame","DraggableFlatList","_super","props","_this","activeKey","hoverComponent","containerRef","createRef","flatlistRef","panGestureHandlerRef","containerSize","touchAbsolute","touchCellOffset","panGestureState","UNDETERMINED","isPressedIn","native","js","hasMoved","disabled","activeIndex","isHovering","spacerIndex","activeCellSize","scrollOffset","scrollViewSize","isScrolledUp","isScrolledDown","hoverAnim","hoverMid","hoverOffset","hoverTo","hoverClock","hoverAnimState","finished","velocity","position","time","hoverAnimConfig","toValue","distToTopEdge","distToBottomEdge","cellAnim","Map","cellData","cellRefs","moveEndParams","resetHoverSpring","keyToIndex","isAutoscrolling","queue","dataHasChanged","lengthHasChanged","aKeys","map","keyExtractor","bKeys","sameKeys","every","includes","componentDidUpdate","prevProps","prevState","layoutInvalidationKeyHasChanged","index","data","forEach","item","key","updateCellData","flushQueue","layoutInvalidationKey","measureAll","get","undefined","setValue","offset","measurements","size","fn","resetHoverState","setState","drag","onDragBegin","onRelease","onDragEnd","from","to","newData","splice","lo","Math","min","hi","_loop_1","measureCell","cell","currentIndex","setCellData","clock","config","initialized","isAfterActive","translate","runSrping","springFill","onHasMoved","onChangeSpacerIndex","onFinished","prevTrans","prevSpacerIndex","anim","setupCell","tapState","transform","horizontal","translateX","translateY","style","onLayout","onUnmount","onSuccess","x","w","h","thisKeyIndex","activeKeyIndex","baseOffset","extraOffset","activeCellData","onFail","ref","viewNode","current","getNode","flatListNode","nodeHandle","react_native_1","findNodeHandle","measureLayout","reason","Error","onContainerLayout","measure","onListContentSizeChange","onContentSizeChange","targetScrollOffset","onAutoscrollComplete","params","resolveAutoscroll","scrollToAsync","scrollToOffset","getScrollTargetOffset","distFromTop","distFromBottom","scrollUp","scrollDown","distFromEdge","speedPct","speed","Platform","OS","targetOffset","autoscroll","nextScrollParams","_b","isAtTopEdge","isAtBottomEdge","isAtEdge","autoscrollParams","checkAutoscroll","ACTIVE","onScroll","nativeEvent","contentOffset","onGestureRelease","onPanStateChange","END","CANCELLED","FAILED","onPanGestureEvent","hoverComponentTranslate","hoverComponentOpacity","renderHoverComponent","createElement","View","styles","hoverComponentHorizontal","hoverComponentVertical","opacity","renderItem","RowItem","extraData","itemKey","CellRendererComponent","cellProps","children","onCellLayout","isActiveCell","pointerEvents","flexDirection","onContainerTouchEnd","onRef","getDerivedStateFromProps","renderDebug","Code","render","onScrollOffsetChange","dynamicProps","activeOffset","activeOffsetX","activeOffsetY","PanGestureHandler","onGestureEvent","onHandlerStateChange","flex","onTouchEnd","scrollEventThrottle","Component","isActive","componentWillUnmount","PureComponent","StyleSheet","left","right","bottom","top"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importDefault(require(\"react\"));\nvar react_native_1 = require(\"react-native\");\nvar react_native_gesture_handler_1 = require(\"react-native-gesture-handler\");\nvar react_native_reanimated_1 = __importDefault(require(\"react-native-reanimated\"));\nvar procs_1 = require(\"./procs\");\nvar AnimatedFlatList = react_native_reanimated_1.default.createAnimatedComponent(react_native_gesture_handler_1.FlatList);\nvar Value = react_native_reanimated_1.default.Value, abs = react_native_reanimated_1.default.abs, set = react_native_reanimated_1.default.set, cond = react_native_reanimated_1.default.cond, add = react_native_reanimated_1.default.add, sub = react_native_reanimated_1.default.sub, event = react_native_reanimated_1.default.event, block = react_native_reanimated_1.default.block, eq = react_native_reanimated_1.default.eq, neq = react_native_reanimated_1.default.neq, and = react_native_reanimated_1.default.and, or = react_native_reanimated_1.default.or, call = react_native_reanimated_1.default.call, onChange = react_native_reanimated_1.default.onChange, divide = react_native_reanimated_1.default.divide, greaterThan = react_native_reanimated_1.default.greaterThan, greaterOrEq = react_native_reanimated_1.default.greaterOrEq, lessOrEq = react_native_reanimated_1.default.lessOrEq, not = react_native_reanimated_1.default.not, Clock = react_native_reanimated_1.default.Clock, clockRunning = react_native_reanimated_1.default.clockRunning, startClock = react_native_reanimated_1.default.startClock, stopClock = react_native_reanimated_1.default.stopClock, spring = react_native_reanimated_1.default.spring, defined = react_native_reanimated_1.default.defined, max = react_native_reanimated_1.default.max, debug = react_native_reanimated_1.default.debug;\n// Fire onScrollComplete when within this many\n// px of target offset\nvar scrollPositionTolerance = 2;\nvar defaultAnimationConfig = {\n    damping: 20,\n    mass: 0.2,\n    stiffness: 100,\n    overshootClamping: false,\n    restSpeedThreshold: 0.2,\n    restDisplacementThreshold: 0.2\n};\nvar defaultProps = {\n    autoscrollThreshold: 30,\n    autoscrollSpeed: 100,\n    animationConfig: defaultAnimationConfig,\n    scrollEnabled: true,\n    activationDistance: 0\n};\nvar debugGestureState = function (state, context) {\n    var stateStr = Object.entries(react_native_gesture_handler_1.State).find(function (_a) {\n        var k = _a[0], v = _a[1];\n        return v === state;\n    });\n    console.log(\"## \" + context + \" debug gesture state: \" + state + \" - \" + stateStr);\n};\n// Run callback on next paint:\n// https://stackoverflow.com/questions/26556436/react-after-render-code\nfunction onNextFrame(callback) {\n    setTimeout(function () {\n        requestAnimationFrame(callback);\n    });\n}\nvar DraggableFlatList = /** @class */ (function (_super) {\n    __extends(DraggableFlatList, _super);\n    function DraggableFlatList(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            activeKey: null,\n            hoverComponent: null\n        };\n        _this.containerRef = react_1.default.createRef();\n        _this.flatlistRef = react_1.default.createRef();\n        _this.panGestureHandlerRef = react_1.default.createRef();\n        _this.containerSize = new Value(0);\n        _this.activationDistance = new Value(0);\n        _this.touchAbsolute = new Value(0);\n        _this.touchCellOffset = new Value(0);\n        _this.panGestureState = new Value(react_native_gesture_handler_1.State.UNDETERMINED);\n        _this.isPressedIn = {\n            native: new Value(0),\n            js: false\n        };\n        _this.hasMoved = new Value(0);\n        _this.disabled = new Value(0);\n        _this.activeIndex = new Value(-1);\n        _this.isHovering = greaterThan(_this.activeIndex, -1);\n        _this.spacerIndex = new Value(-1);\n        _this.activeCellSize = new Value(0);\n        _this.scrollOffset = new Value(0);\n        _this.scrollViewSize = new Value(0);\n        _this.isScrolledUp = lessOrEq(sub(_this.scrollOffset, scrollPositionTolerance), 0);\n        _this.isScrolledDown = greaterOrEq(add(_this.scrollOffset, _this.containerSize, scrollPositionTolerance), _this.scrollViewSize);\n        _this.hoverAnim = sub(_this.touchAbsolute, _this.touchCellOffset);\n        _this.hoverMid = add(_this.hoverAnim, divide(_this.activeCellSize, 2));\n        _this.hoverOffset = add(_this.hoverAnim, _this.scrollOffset);\n        _this.hoverTo = new Value(0);\n        _this.hoverClock = new Clock();\n        _this.hoverAnimState = {\n            finished: new Value(0),\n            velocity: new Value(0),\n            position: new Value(0),\n            time: new Value(0)\n        };\n        _this.hoverAnimConfig = __assign(__assign(__assign({}, defaultAnimationConfig), _this.props.animationConfig), { toValue: _this.hoverTo });\n        _this.distToTopEdge = max(0, _this.hoverAnim);\n        _this.distToBottomEdge = max(0, sub(_this.containerSize, add(_this.hoverAnim, _this.activeCellSize)));\n        _this.cellAnim = new Map();\n        _this.cellData = new Map();\n        _this.cellRefs = new Map();\n        _this.moveEndParams = [_this.activeIndex, _this.spacerIndex];\n        _this.resetHoverSpring = [\n            set(_this.hoverAnimState.time, 0),\n            set(_this.hoverAnimState.position, _this.hoverAnimConfig.toValue),\n            set(_this.touchAbsolute, _this.hoverAnimConfig.toValue),\n            set(_this.touchCellOffset, 0),\n            set(_this.hoverAnimState.finished, 0),\n            set(_this.hoverAnimState.velocity, 0),\n            set(_this.hasMoved, 0)\n        ];\n        _this.keyToIndex = new Map();\n        _this.isAutoscrolling = {\n            native: new Value(0),\n            js: false\n        };\n        _this.queue = [];\n        _this.dataHasChanged = function (a, b) {\n            var lengthHasChanged = a.length !== b.length;\n            if (lengthHasChanged)\n                return true;\n            var aKeys = a.map(function (d, i) { return _this.keyExtractor(d, i); });\n            var bKeys = b.map(function (d, i) { return _this.keyExtractor(d, i); });\n            var sameKeys = aKeys.every(function (k) { return bKeys.includes(k); });\n            return !sameKeys;\n        };\n        _this.componentDidUpdate = function (prevProps, prevState) { return __awaiter(_this, void 0, void 0, function () {\n            var layoutInvalidationKeyHasChanged, index, cellData;\n            var _this = this;\n            return __generator(this, function (_a) {\n                if (prevProps.data !== this.props.data) {\n                    this.props.data.forEach(function (item, index) {\n                        var key = _this.keyExtractor(item, index);\n                        _this.keyToIndex.set(key, index);\n                    });\n                    // Remeasure on next paint\n                    this.updateCellData(this.props.data);\n                    onNextFrame(this.flushQueue);\n                    layoutInvalidationKeyHasChanged = prevProps.layoutInvalidationKey !== this.props.layoutInvalidationKey;\n                    if (layoutInvalidationKeyHasChanged ||\n                        this.dataHasChanged(prevProps.data, this.props.data)) {\n                        this.queue.push(function () { return _this.measureAll(_this.props.data); });\n                    }\n                }\n                if (!prevState.activeKey && this.state.activeKey) {\n                    index = this.keyToIndex.get(this.state.activeKey);\n                    if (index !== undefined) {\n                        this.spacerIndex.setValue(index);\n                        this.activeIndex.setValue(index);\n                        this.touchCellOffset.setValue(0);\n                        this.isPressedIn.native.setValue(1);\n                    }\n                    cellData = this.cellData.get(this.state.activeKey);\n                    if (cellData) {\n                        this.touchAbsolute.setValue(sub(cellData.offset, this.scrollOffset));\n                        this.activeCellSize.setValue(cellData.measurements.size);\n                    }\n                }\n                return [2 /*return*/];\n            });\n        }); };\n        _this.flushQueue = function () { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.queue.forEach(function (fn) { return fn(); });\n                this.queue = [];\n                return [2 /*return*/];\n            });\n        }); };\n        _this.resetHoverState = function () {\n            _this.activeIndex.setValue(-1);\n            _this.spacerIndex.setValue(-1);\n            _this.disabled.setValue(0);\n            if (_this.state.hoverComponent !== null || _this.state.activeKey !== null) {\n                _this.setState({\n                    hoverComponent: null,\n                    activeKey: null\n                });\n            }\n        };\n        _this.drag = function (hoverComponent, activeKey) {\n            if (_this.state.hoverComponent) {\n                // We can't drag more than one row at a time\n                // TODO: Put action on queue?\n                console.log(\"## Can't set multiple active items\");\n            }\n            else {\n                _this.isPressedIn.js = true;\n                _this.setState({\n                    activeKey: activeKey,\n                    hoverComponent: hoverComponent\n                }, function () {\n                    var index = _this.keyToIndex.get(activeKey);\n                    var onDragBegin = _this.props.onDragBegin;\n                    if (index !== undefined && onDragBegin) {\n                        onDragBegin(index);\n                    }\n                });\n            }\n        };\n        _this.onRelease = function (_a) {\n            var index = _a[0];\n            var onRelease = _this.props.onRelease;\n            _this.isPressedIn.js = false;\n            onRelease && onRelease(index);\n        };\n        _this.onDragEnd = function (_a) {\n            var from = _a[0], to = _a[1];\n            var onDragEnd = _this.props.onDragEnd;\n            if (onDragEnd) {\n                var data = _this.props.data;\n                var newData = __spreadArrays(data);\n                if (from !== to) {\n                    newData.splice(from, 1);\n                    newData.splice(to, 0, data[from]);\n                }\n                onDragEnd({ from: from, to: to, data: newData });\n            }\n            var lo = Math.min(from, to) - 1;\n            var hi = Math.max(from, to) + 1;\n            var _loop_1 = function (i) {\n                _this.queue.push(function () {\n                    var item = _this.props.data[i];\n                    if (!item)\n                        return;\n                    var key = _this.keyExtractor(item, i);\n                    return _this.measureCell(key);\n                });\n            };\n            for (var i = lo; i < hi; i++) {\n                _loop_1(i);\n            }\n            _this.resetHoverState();\n        };\n        _this.updateCellData = function (data) {\n            if (data === void 0) { data = []; }\n            return data.forEach(function (item, index) {\n                var key = _this.keyExtractor(item, index);\n                var cell = _this.cellData.get(key);\n                if (cell)\n                    cell.currentIndex.setValue(index);\n            });\n        };\n        _this.setCellData = function (key, index) {\n            var clock = new Clock();\n            var currentIndex = new Value(index);\n            var config = __assign(__assign({}, _this.hoverAnimConfig), { toValue: new Value(0) });\n            var state = {\n                position: new Value(0),\n                velocity: new Value(0),\n                time: new Value(0),\n                finished: new Value(0)\n            };\n            _this.cellAnim.set(key, { clock: clock, state: state, config: config });\n            var initialized = new Value(0);\n            var size = new Value(0);\n            var offset = new Value(0);\n            var isAfterActive = new Value(0);\n            var translate = new Value(0);\n            var runSrping = cond(clockRunning(clock), procs_1.springFill(clock, state, config));\n            var onHasMoved = startClock(clock);\n            var onChangeSpacerIndex = cond(clockRunning(clock), stopClock(clock));\n            var onFinished = stopClock(clock);\n            var prevTrans = new Value(0);\n            var prevSpacerIndex = new Value(-1);\n            var anim = procs_1.setupCell(currentIndex, initialized, size, offset, isAfterActive, translate, prevTrans, prevSpacerIndex, _this.activeIndex, _this.activeCellSize, _this.hoverOffset, _this.scrollOffset, _this.isHovering, _this.hoverTo, _this.hasMoved, _this.spacerIndex, config.toValue, state.position, state.time, state.finished, runSrping, onHasMoved, onChangeSpacerIndex, onFinished, _this.isPressedIn.native);\n            var tapState = new Value(react_native_gesture_handler_1.State.UNDETERMINED);\n            var transform = _this.props.horizontal\n                ? [{ translateX: anim }]\n                : [{ translateY: anim }];\n            var style = {\n                transform: transform\n            };\n            var cellData = {\n                initialized: initialized,\n                currentIndex: currentIndex,\n                size: size,\n                offset: offset,\n                style: style,\n                onLayout: function () {\n                    if (_this.state.activeKey !== key)\n                        _this.measureCell(key);\n                },\n                onUnmount: function () { return initialized.setValue(0); },\n                measurements: {\n                    size: 0,\n                    offset: 0\n                }\n            };\n            _this.cellData.set(key, cellData);\n        };\n        _this.measureAll = function (data) {\n            data.forEach(function (d, i) {\n                var key = _this.keyExtractor(d, i);\n                _this.measureCell(key);\n            });\n        };\n        _this.measureCell = function (key) {\n            return new Promise(function (resolve, reject) {\n                var horizontal = _this.props.horizontal;\n                var onSuccess = function (x, y, w, h) {\n                    var activeKey = _this.state.activeKey;\n                    var isHovering = activeKey !== null;\n                    var cellData = _this.cellData.get(key);\n                    var thisKeyIndex = _this.keyToIndex.get(key);\n                    var activeKeyIndex = activeKey\n                        ? _this.keyToIndex.get(activeKey)\n                        : undefined;\n                    var baseOffset = horizontal ? x : y;\n                    var extraOffset = 0;\n                    if (thisKeyIndex !== undefined &&\n                        activeKeyIndex !== undefined &&\n                        activeKey) {\n                        var isAfterActive = thisKeyIndex > activeKeyIndex;\n                        var activeCellData = _this.cellData.get(activeKey);\n                        if (isHovering && isAfterActive && activeCellData) {\n                            extraOffset = activeCellData.measurements.size;\n                        }\n                    }\n                    var size = horizontal ? w : h;\n                    var offset = baseOffset + extraOffset;\n                    // console.log(`measure key ${key}: wdith ${w} height ${h} x ${x} y ${y} size ${size} offset ${offset}`)\n                    if (cellData) {\n                        cellData.size.setValue(size);\n                        cellData.offset.setValue(offset);\n                        cellData.measurements.size = size;\n                        cellData.measurements.offset = offset;\n                    }\n                    // remeasure on next layout if hovering\n                    if (isHovering)\n                        _this.queue.push(function () { return _this.measureCell(key); });\n                    resolve();\n                };\n                var onFail = function () {\n                    console.log(\"## measureLayout fail!\", key);\n                };\n                var ref = _this.cellRefs.get(key);\n                var viewNode = ref && ref.current && ref.current.getNode();\n                var flatListNode = _this.flatlistRef.current && _this.flatlistRef.current.getNode();\n                if (viewNode && flatListNode) {\n                    var nodeHandle = react_native_1.findNodeHandle(flatListNode);\n                    if (nodeHandle)\n                        viewNode.measureLayout(nodeHandle, onSuccess, onFail);\n                }\n                else {\n                    var reason = !ref\n                        ? \"no ref\"\n                        : !flatListNode\n                            ? \"no flatlist node\"\n                            : \"invalid ref\";\n                    console.log(\"## can't measure \" + key + \" reason: \" + reason);\n                    _this.queue.push(function () { return _this.measureCell(key); });\n                    return resolve();\n                }\n            });\n        };\n        _this.keyExtractor = function (item, index) {\n            if (_this.props.keyExtractor)\n                return _this.props.keyExtractor(item, index);\n            else\n                throw new Error(\"You must provide a keyExtractor to DraggableFlatList\");\n        };\n        _this.onContainerLayout = function () {\n            var horizontal = _this.props.horizontal;\n            var containerRef = _this.containerRef.current;\n            if (containerRef) {\n                containerRef.getNode().measure(function (x, y, w, h) {\n                    _this.containerSize.setValue(horizontal ? w : h);\n                });\n            }\n        };\n        _this.onListContentSizeChange = function (w, h) {\n            _this.scrollViewSize.setValue(_this.props.horizontal ? w : h);\n            if (_this.props.onContentSizeChange)\n                _this.props.onContentSizeChange(w, h);\n        };\n        _this.targetScrollOffset = new Value(0);\n        _this.onAutoscrollComplete = function (params) {\n            _this.isAutoscrolling.js = false;\n            if (_this.resolveAutoscroll)\n                _this.resolveAutoscroll(params);\n        };\n        _this.scrollToAsync = function (offset) {\n            return new Promise(function (resolve, reject) {\n                _this.resolveAutoscroll = resolve;\n                _this.targetScrollOffset.setValue(offset);\n                _this.isAutoscrolling.native.setValue(1);\n                _this.isAutoscrolling.js = true;\n                var flatlistRef = _this.flatlistRef.current;\n                if (flatlistRef)\n                    flatlistRef.getNode().scrollToOffset({ offset: offset });\n            });\n        };\n        _this.getScrollTargetOffset = function (distFromTop, distFromBottom, scrollOffset, isScrolledUp, isScrolledDown) {\n            if (_this.isAutoscrolling.js)\n                return -1;\n            var _a = _this.props, autoscrollThreshold = _a.autoscrollThreshold, autoscrollSpeed = _a.autoscrollSpeed;\n            var scrollUp = distFromTop < autoscrollThreshold;\n            var scrollDown = distFromBottom < autoscrollThreshold;\n            if (!(scrollUp || scrollDown) ||\n                (scrollUp && isScrolledUp) ||\n                (scrollDown && isScrolledDown))\n                return -1;\n            var distFromEdge = scrollUp ? distFromTop : distFromBottom;\n            var speedPct = 1 - distFromEdge / autoscrollThreshold;\n            // Android scroll speed seems much faster than ios\n            var speed = react_native_1.Platform.OS === \"ios\" ? autoscrollSpeed : autoscrollSpeed / 10;\n            var offset = speedPct * speed;\n            var targetOffset = scrollUp\n                ? Math.max(0, scrollOffset - offset)\n                : scrollOffset + offset;\n            return targetOffset;\n        };\n        _this.autoscroll = function (_a) {\n            var distFromTop = _a[0], distFromBottom = _a[1], scrollOffset = _a[2], isScrolledUp = _a[3], isScrolledDown = _a[4];\n            return __awaiter(_this, void 0, void 0, function () {\n                var targetOffset, nextScrollParams;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            targetOffset = this.getScrollTargetOffset(distFromTop, distFromBottom, scrollOffset, !!isScrolledUp, !!isScrolledDown);\n                            if (!(targetOffset >= 0 && this.isPressedIn.js)) return [3 /*break*/, 2];\n                            return [4 /*yield*/, this.scrollToAsync(targetOffset)];\n                        case 1:\n                            nextScrollParams = _b.sent();\n                            this.autoscroll(nextScrollParams);\n                            _b.label = 2;\n                        case 2: return [2 /*return*/];\n                    }\n                });\n            });\n        };\n        _this.isAtTopEdge = lessOrEq(_this.distToTopEdge, _this.props.autoscrollThreshold);\n        _this.isAtBottomEdge = lessOrEq(_this.distToBottomEdge, _this.props.autoscrollThreshold);\n        _this.isAtEdge = or(_this.isAtBottomEdge, _this.isAtTopEdge);\n        _this.autoscrollParams = [\n            _this.distToTopEdge,\n            _this.distToBottomEdge,\n            _this.scrollOffset,\n            _this.isScrolledUp,\n            _this.isScrolledDown\n        ];\n        _this.checkAutoscroll = cond(and(_this.isAtEdge, not(and(_this.isAtTopEdge, _this.isScrolledUp)), not(and(_this.isAtBottomEdge, _this.isScrolledDown)), eq(_this.panGestureState, react_native_gesture_handler_1.State.ACTIVE), not(_this.isAutoscrolling.native)), call(_this.autoscrollParams, _this.autoscroll));\n        _this.onScroll = event([\n            {\n                nativeEvent: function (_a) {\n                    var contentOffset = _a.contentOffset;\n                    return block([\n                        set(_this.scrollOffset, _this.props.horizontal ? contentOffset.x : contentOffset.y),\n                        cond(and(_this.isAutoscrolling.native, or(lessOrEq(abs(sub(_this.targetScrollOffset, _this.scrollOffset)), scrollPositionTolerance), _this.isScrolledUp, _this.isScrolledDown)), [\n                            set(_this.isAutoscrolling.native, 0),\n                            _this.checkAutoscroll,\n                            call(_this.autoscrollParams, _this.onAutoscrollComplete)\n                        ])\n                    ]);\n                }\n            }\n        ]);\n        _this.onGestureRelease = [\n            cond(_this.isHovering, [\n                set(_this.disabled, 1),\n                cond(defined(_this.hoverClock), [\n                    cond(clockRunning(_this.hoverClock), stopClock(_this.hoverClock)),\n                    set(_this.hoverAnimState.position, _this.hoverAnim),\n                    startClock(_this.hoverClock)\n                ]),\n                call([_this.activeIndex], _this.onRelease)\n            ], call([_this.activeIndex], _this.resetHoverState))\n        ];\n        _this.onPanStateChange = event([\n            {\n                nativeEvent: function (_a) {\n                    var state = _a.state, x = _a.x, y = _a.y;\n                    return cond(and(neq(state, _this.panGestureState), not(_this.disabled)), [\n                        set(_this.panGestureState, state),\n                        cond(eq(_this.panGestureState, react_native_gesture_handler_1.State.ACTIVE), set(_this.activationDistance, sub(_this.touchAbsolute, _this.props.horizontal ? x : y))),\n                        cond(or(eq(state, react_native_gesture_handler_1.State.END), eq(state, react_native_gesture_handler_1.State.CANCELLED), eq(state, react_native_gesture_handler_1.State.FAILED)), _this.onGestureRelease)\n                    ]);\n                }\n            }\n        ]);\n        _this.onPanGestureEvent = event([\n            {\n                nativeEvent: function (_a) {\n                    var x = _a.x, y = _a.y;\n                    return cond(and(_this.isHovering, eq(_this.panGestureState, react_native_gesture_handler_1.State.ACTIVE), not(_this.disabled)), [\n                        cond(not(_this.hasMoved), set(_this.hasMoved, 1)),\n                        set(_this.touchAbsolute, add(_this.props.horizontal ? x : y, _this.activationDistance))\n                    ]);\n                }\n            }\n        ]);\n        _this.hoverComponentTranslate = cond(clockRunning(_this.hoverClock), _this.hoverAnimState.position, _this.hoverAnim);\n        _this.hoverComponentOpacity = and(_this.isHovering, neq(_this.panGestureState, react_native_gesture_handler_1.State.CANCELLED));\n        _this.renderHoverComponent = function () {\n            var _a;\n            var hoverComponent = _this.state.hoverComponent;\n            var horizontal = _this.props.horizontal;\n            return (react_1.default.createElement(react_native_reanimated_1.default.View, { style: [\n                    horizontal\n                        ? styles.hoverComponentHorizontal\n                        : styles.hoverComponentVertical,\n                    {\n                        opacity: _this.hoverComponentOpacity,\n                        transform: [\n                            (_a = {},\n                                _a[\"translate\" + (horizontal ? \"X\" : \"Y\")] = _this\n                                    .hoverComponentTranslate,\n                                _a)\n                        ]\n                    }\n                ] }, hoverComponent));\n        };\n        _this.renderItem = function (_a) {\n            var item = _a.item, index = _a.index;\n            var key = _this.keyExtractor(item, index);\n            if (index !== _this.keyToIndex.get(key))\n                _this.keyToIndex.set(key, index);\n            var renderItem = _this.props.renderItem;\n            if (!_this.cellData.get(key))\n                _this.setCellData(key, index);\n            var onUnmount = (_this.cellData.get(key) || {\n                onUnmount: function () { return console.log(\"## error, no cellData\"); }\n            }).onUnmount;\n            return (react_1.default.createElement(RowItem, { extraData: _this.props.extraData, itemKey: key, keyToIndex: _this.keyToIndex, renderItem: renderItem, item: item, drag: _this.drag, onUnmount: onUnmount }));\n        };\n        _this.CellRendererComponent = function (cellProps) {\n            var item = cellProps.item, index = cellProps.index, children = cellProps.children, onLayout = cellProps.onLayout;\n            var horizontal = _this.props.horizontal;\n            var activeKey = _this.state.activeKey;\n            var key = _this.keyExtractor(item, index);\n            if (!_this.cellData.get(key))\n                _this.setCellData(key, index);\n            var cellData = _this.cellData.get(key);\n            if (!cellData)\n                return null;\n            var style = cellData.style, onCellLayout = cellData.onLayout;\n            var ref = _this.cellRefs.get(key);\n            if (!ref) {\n                ref = react_1.default.createRef();\n                _this.cellRefs.set(key, ref);\n            }\n            var isActiveCell = activeKey === key;\n            return (react_1.default.createElement(react_native_reanimated_1.default.View, { onLayout: onLayout, style: style },\n                react_1.default.createElement(react_native_reanimated_1.default.View, { pointerEvents: activeKey ? \"none\" : \"auto\", style: {\n                        flexDirection: horizontal ? \"row\" : \"column\"\n                    } },\n                    react_1.default.createElement(react_native_reanimated_1.default.View, { ref: ref, onLayout: onCellLayout, style: isActiveCell ? { opacity: 0 } : undefined }, children))));\n        };\n        _this.onContainerTouchEnd = function () {\n            _this.isPressedIn.native.setValue(0);\n        };\n        var data = props.data, onRef = props.onRef;\n        data.forEach(function (item, index) {\n            var key = _this.keyExtractor(item, index);\n            _this.keyToIndex.set(key, index);\n        });\n        onRef && onRef(_this.flatlistRef);\n        return _this;\n    }\n    DraggableFlatList.getDerivedStateFromProps = function (props) {\n        return {\n            extraData: props.extraData\n        };\n    };\n    DraggableFlatList.prototype.renderDebug = function () {\n        var _this = this;\n        return (react_1.default.createElement(react_native_reanimated_1.default.Code, null, function () {\n            return block([\n                onChange(_this.spacerIndex, debug(\"spacerIndex: \", _this.spacerIndex))\n            ]);\n        }));\n    };\n    DraggableFlatList.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, scrollEnabled = _a.scrollEnabled, debug = _a.debug, horizontal = _a.horizontal, activationDistance = _a.activationDistance, onScrollOffsetChange = _a.onScrollOffsetChange;\n        var hoverComponent = this.state.hoverComponent;\n        var dynamicProps = {};\n        if (activationDistance) {\n            var activeOffset = [-activationDistance, activationDistance];\n            dynamicProps = horizontal\n                ? { activeOffsetX: activeOffset }\n                : { activeOffsetY: activeOffset };\n        }\n        return (react_1.default.createElement(react_native_gesture_handler_1.PanGestureHandler, __assign({ ref: this.panGestureHandlerRef, onGestureEvent: this.onPanGestureEvent, onHandlerStateChange: this.onPanStateChange }, dynamicProps),\n            react_1.default.createElement(react_native_reanimated_1.default.View, { style: styles.flex, ref: this.containerRef, onLayout: this.onContainerLayout, onTouchEnd: this.onContainerTouchEnd },\n                react_1.default.createElement(AnimatedFlatList, __assign({}, this.props, { CellRendererComponent: this.CellRendererComponent, ref: this.flatlistRef, onContentSizeChange: this.onListContentSizeChange, scrollEnabled: !hoverComponent && scrollEnabled, renderItem: this.renderItem, extraData: this.state, keyExtractor: this.keyExtractor, onScroll: this.onScroll, scrollEventThrottle: 1 })),\n                !!hoverComponent && this.renderHoverComponent(),\n                react_1.default.createElement(react_native_reanimated_1.default.Code, null, function () {\n                    return block([\n                        onChange(_this.isPressedIn.native, cond(not(_this.isPressedIn.native), _this.onGestureRelease)),\n                        onChange(_this.touchAbsolute, _this.checkAutoscroll),\n                        cond(clockRunning(_this.hoverClock), [\n                            spring(_this.hoverClock, _this.hoverAnimState, _this.hoverAnimConfig),\n                            cond(eq(_this.hoverAnimState.finished, 1), [\n                                stopClock(_this.hoverClock),\n                                call(_this.moveEndParams, _this.onDragEnd),\n                                _this.resetHoverSpring,\n                                set(_this.hasMoved, 0)\n                            ])\n                        ])\n                    ]);\n                }),\n                onScrollOffsetChange && (react_1.default.createElement(react_native_reanimated_1.default.Code, null, function () {\n                    return onChange(_this.scrollOffset, call([_this.scrollOffset], function (_a) {\n                        var offset = _a[0];\n                        return onScrollOffsetChange(offset);\n                    }));\n                })),\n                debug && this.renderDebug())));\n    };\n    DraggableFlatList.defaultProps = defaultProps;\n    return DraggableFlatList;\n}(react_1.default.Component));\nexports.default = DraggableFlatList;\nvar RowItem = /** @class */ (function (_super) {\n    __extends(RowItem, _super);\n    function RowItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.drag = function () {\n            var _a = _this.props, drag = _a.drag, renderItem = _a.renderItem, item = _a.item, keyToIndex = _a.keyToIndex, itemKey = _a.itemKey;\n            var hoverComponent = renderItem({\n                isActive: true,\n                item: item,\n                index: keyToIndex.get(itemKey),\n                drag: function () { return console.log(\"## attempt to call drag() on hovering component\"); }\n            });\n            drag(hoverComponent, itemKey);\n        };\n        return _this;\n    }\n    RowItem.prototype.componentWillUnmount = function () {\n        this.props.onUnmount();\n    };\n    RowItem.prototype.render = function () {\n        var _a = this.props, renderItem = _a.renderItem, item = _a.item, keyToIndex = _a.keyToIndex, itemKey = _a.itemKey;\n        return renderItem({\n            isActive: false,\n            item: item,\n            index: keyToIndex.get(itemKey),\n            drag: this.drag\n        });\n    };\n    return RowItem;\n}(react_1.default.PureComponent));\nvar styles = react_native_1.StyleSheet.create({\n    flex: {\n        flex: 1\n    },\n    hoverComponentVertical: {\n        position: \"absolute\",\n        left: 0,\n        right: 0\n    },\n    hoverComponentHorizontal: {\n        position: \"absolute\",\n        bottom: 0,\n        top: 0\n    }\n});\n"]},"metadata":{},"sourceType":"script"}